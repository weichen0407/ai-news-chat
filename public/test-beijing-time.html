<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åŒ—äº¬æ—¶é—´æµ‹è¯•</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem;
      border-radius: 12px;
      margin-bottom: 2rem;
      text-align: center;
    }
    
    .card {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .time-row {
      display: flex;
      justify-content: space-between;
      padding: 0.75rem;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .time-row:last-child {
      border-bottom: none;
    }
    
    .label {
      font-weight: 600;
      color: #666;
    }
    
    .value {
      color: #333;
      font-family: monospace;
    }
    
    .highlight {
      color: #667eea;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ• åŒ—äº¬æ—¶é—´æµ‹è¯•</h1>
    <p>æœåŠ¡å™¨æ—¶é—´ vs åŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰</p>
  </div>

  <div class="card">
    <h2>å½“å‰æ—¶é—´å¯¹æ¯”</h2>
    <div class="time-row">
      <span class="label">æœåŠ¡å™¨æœ¬åœ°æ—¶é—´ï¼š</span>
      <span class="value" id="localTime"></span>
    </div>
    <div class="time-row">
      <span class="label">æœåŠ¡å™¨UTCæ—¶é—´ï¼š</span>
      <span class="value" id="utcTime"></span>
    </div>
    <div class="time-row">
      <span class="label">åŒ—äº¬æ—¶é—´ (UTC+8)ï¼š</span>
      <span class="value highlight" id="beijingTime"></span>
    </div>
    <div class="time-row">
      <span class="label">æ—¶åŒºåç§»ï¼š</span>
      <span class="value" id="offset"></span>
    </div>
  </div>

  <div class="card">
    <h2>æ—¶é—´æ ¼å¼åŒ–æµ‹è¯•</h2>
    <div id="formats"></div>
  </div>

  <div class="card">
    <h2>ç›¸å¯¹æ—¶é—´æµ‹è¯•</h2>
    <div id="relatives"></div>
  </div>

  <script>
    // è·å–åŒ—äº¬æ—¶é—´
    function getBeijingTime(date) {
      const d = date ? new Date(date) : new Date()
      const utcTime = d.getTime()
      const localOffset = d.getTimezoneOffset()
      const beijingOffset = -480 // UTC+8 = -480åˆ†é’Ÿ
      return new Date(utcTime + (localOffset + beijingOffset) * 60 * 1000)
    }

    // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
    function formatDateTime(date) {
      const year = date.getFullYear()
      const month = String(date.getMonth() + 1).padStart(2, '0')
      const day = String(date.getDate()).padStart(2, '0')
      const hour = String(date.getHours()).padStart(2, '0')
      const minute = String(date.getMinutes()).padStart(2, '0')
      const second = String(date.getSeconds()).padStart(2, '0')
      return `${year}-${month}-${day} ${hour}:${minute}:${second}`
    }

    // æ›´æ–°æ—¶é—´æ˜¾ç¤º
    function updateTimes() {
      const now = new Date()
      const utc = new Date(now.toUTCString())
      const beijing = getBeijingTime()

      document.getElementById('localTime').textContent = formatDateTime(now)
      document.getElementById('utcTime').textContent = formatDateTime(utc)
      document.getElementById('beijingTime').textContent = formatDateTime(beijing)
      document.getElementById('offset').textContent = `UTC${now.getTimezoneOffset() > 0 ? '-' : '+'}${Math.abs(now.getTimezoneOffset() / 60)}`
    }

    // æ ¼å¼åŒ–æµ‹è¯•
    function showFormats() {
      const beijing = getBeijingTime()
      const formatsDiv = document.getElementById('formats')
      
      const formats = [
        { label: 'å®Œæ•´æ—¥æœŸæ—¶é—´', value: formatDateTime(beijing) },
        { label: 'æ—¥æœŸ', value: beijing.toLocaleDateString('zh-CN') },
        { label: 'æ—¶é—´', value: beijing.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }) },
        { label: 'ä¸­æ–‡æ ¼å¼', value: `${beijing.getFullYear()}å¹´${beijing.getMonth()+1}æœˆ${beijing.getDate()}æ—¥` }
      ]
      
      formatsDiv.innerHTML = formats.map(f => `
        <div class="time-row">
          <span class="label">${f.label}ï¼š</span>
          <span class="value">${f.value}</span>
        </div>
      `).join('')
    }

    // ç›¸å¯¹æ—¶é—´æµ‹è¯•
    function showRelatives() {
      const now = getBeijingTime()
      const relativesDiv = document.getElementById('relatives')
      
      const testTimes = [
        { label: '30ç§’å‰', time: new Date(now.getTime() - 30 * 1000) },
        { label: '5åˆ†é’Ÿå‰', time: new Date(now.getTime() - 5 * 60 * 1000) },
        { label: '2å°æ—¶å‰', time: new Date(now.getTime() - 2 * 60 * 60 * 1000) },
        { label: 'æ˜¨å¤©', time: new Date(now.getTime() - 24 * 60 * 60 * 1000) },
        { label: '3å¤©å‰', time: new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000) },
        { label: '10å¤©å‰', time: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000) }
      ]
      
      relativesDiv.innerHTML = testTimes.map(t => {
        const diff = now.getTime() - t.time.getTime()
        const minutes = Math.floor(diff / 60000)
        const hours = Math.floor(diff / 3600000)
        const days = Math.floor(diff / 86400000)
        
        let display
        if (minutes < 1) display = 'åˆšåˆš'
        else if (minutes < 60) display = `${minutes}åˆ†é’Ÿå‰`
        else if (hours < 24) display = `${hours}å°æ—¶å‰`
        else if (days === 1) display = 'æ˜¨å¤©'
        else if (days < 7) display = `${days}å¤©å‰`
        else display = formatDateTime(t.time).split(' ')[0]
        
        return `
          <div class="time-row">
            <span class="label">${t.label}ï¼š</span>
            <span class="value highlight">${display}</span>
          </div>
        `
      }).join('')
    }

    // åˆå§‹åŒ–
    updateTimes()
    showFormats()
    showRelatives()
    
    // æ¯ç§’æ›´æ–°
    setInterval(updateTimes, 1000)
  </script>
</body>
</html>

