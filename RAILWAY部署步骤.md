# ğŸš‚ Railway å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

### 1. ç¡®è®¤é…ç½®æ–‡ä»¶
âœ… å·²æœ‰çš„æ–‡ä»¶ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰ï¼š
- `railway.json` - Railwayé…ç½®
- `Dockerfile` - Dockeræ„å»ºé…ç½®
- `start.mjs` - å¯åŠ¨è„šæœ¬
- `.npmrc` - npmé…ç½®
- `nuxt.config.ts` - Nuxté…ç½®

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤ï¼ˆæ¨èï¼šGitHubæ–¹å¼ï¼‰

### æ­¥éª¤1ï¼šæäº¤ä»£ç åˆ°Git

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/QRF/Desktop/AI-news

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "å‡†å¤‡éƒ¨ç½²åˆ°Railway - æ·»åŠ ç®¡ç†åå°å’Œè‡ªåŠ¨åŒ–åŠŸèƒ½"

# å¦‚æœè¿˜æ²¡æœ‰GitHubä»“åº“ï¼Œå…ˆåœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ª
# ç„¶åå…³è”å¹¶æ¨é€
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å.git
git branch -M main
git push -u origin main
```

### æ­¥éª¤2ï¼šåœ¨Railwayä¸Šåˆ›å»ºé¡¹ç›®

1. è®¿é—®ï¼šhttps://railway.app
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. ç‚¹å‡» **"New Project"**
4. é€‰æ‹© **"Deploy from GitHub repo"**
5. æˆæƒRailwayè®¿é—®ä½ çš„GitHub
6. é€‰æ‹©ä½ åˆšæ‰pushçš„ä»“åº“

### æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡

Railwayä¼šè‡ªåŠ¨å¼€å§‹æ„å»ºï¼Œä½†éœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼š

1. åœ¨Railwayé¡¹ç›®é¡µé¢ï¼Œç‚¹å‡»ä½ çš„æœåŠ¡
2. ç‚¹å‡» **"Variables"** æ ‡ç­¾
3. æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# å¿…éœ€çš„ç¯å¢ƒå˜é‡
DEEPSEEK_API_KEY=sk-da419e3d9ba94926991572267c0c086a

# å¯é€‰ä½†å»ºè®®è®¾ç½®ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
SESSION_SECRET=your-random-secret-key-here
```

**å¦‚ä½•ç”ŸæˆSESSION_SECRETï¼š**
åœ¨æœ¬åœ°ç»ˆç«¯è¿è¡Œï¼š
```bash
openssl rand -hex 32
```

### æ­¥éª¤4ï¼šç­‰å¾…éƒ¨ç½²å®Œæˆ

- Railwayä¼šè‡ªåŠ¨æ„å»ºDockeré•œåƒ
- æ„å»ºæ—¶é—´ï¼šçº¦3-5åˆ†é’Ÿ
- å¯ä»¥åœ¨ **"Deployments"** æ ‡ç­¾æŸ¥çœ‹æ„å»ºæ—¥å¿—

### æ­¥éª¤5ï¼šè·å–è®¿é—®URL

éƒ¨ç½²æˆåŠŸåï¼š
1. ç‚¹å‡» **"Settings"** æ ‡ç­¾
2. æ‰¾åˆ° **"Domains"** éƒ¨åˆ†
3. ç‚¹å‡» **"Generate Domain"**
4. Railwayä¼šç”Ÿæˆä¸€ä¸ªç±»ä¼¼çš„URLï¼š`https://ä½ çš„é¡¹ç›®å.up.railway.app`

---

## ğŸ¯ å¿«é€Ÿéƒ¨ç½²ï¼ˆRailway CLIæ–¹å¼ï¼‰

### å®‰è£…Railway CLI
```bash
npm install -g @railway/cli
```

### ç™»å½•
```bash
railway login
```

### é“¾æ¥é¡¹ç›®
```bash
cd /Users/QRF/Desktop/AI-news
railway link
```

### è®¾ç½®ç¯å¢ƒå˜é‡
```bash
railway variables set DEEPSEEK_API_KEY=sk-da419e3d9ba94926991572267c0c086a
railway variables set SESSION_SECRET=$(openssl rand -hex 32)
```

### éƒ¨ç½²
```bash
railway up
```

### ç”ŸæˆåŸŸå
```bash
railway domain
```

---

## âœ… éƒ¨ç½²åéªŒè¯

### 1. è®¿é—®ç½‘ç«™
æ‰“å¼€Railwayç”Ÿæˆçš„URLï¼Œåº”è¯¥çœ‹åˆ°ç™»å½•é¡µé¢

### 2. æµ‹è¯•åŸºæœ¬åŠŸèƒ½
```bash
# æ³¨å†Œè´¦å·
è®¿é—®ï¼š/login

# ç™»å½•ç®¡ç†åå°
è®¿é—®ï¼š/admin/login
ç”¨æˆ·åï¼šjerry
å¯†ç ï¼š123123

# åˆ›å»ºæˆ¿é—´
ç‚¹å‡»"åˆ›å»ºæˆ¿é—´"

# æµ‹è¯•AIå¯¹è¯
åœ¨æˆ¿é—´ä¸­å‘é€æ¶ˆæ¯
```

### 3. æŸ¥çœ‹æ—¥å¿—
```bash
# ä½¿ç”¨CLIæŸ¥çœ‹æ—¥å¿—
railway logs

# æˆ–åœ¨Railwayç½‘é¡µæ§åˆ¶å°çš„"Deployments"æ ‡ç­¾æŸ¥çœ‹
```

---

## ğŸ“Š Railway å…è´¹é¢åº¦

- **å…è´¹è¯•ç”¨**ï¼š$5 USDé¢åº¦
- **ä½¿ç”¨é‡ä¼°ç®—**ï¼š
  - è®¡ç®—ï¼š$0.000463/åˆ†é’Ÿ
  - å†…å­˜ï¼š512MBå…è´¹
  - ç½‘ç»œï¼š100GBå…è´¹
  - é¢„è®¡ï¼šå…è´¹é¢åº¦å¯è¿è¡Œçº¦180å°æ—¶

- **ä»˜è´¹è®¡åˆ’**ï¼š
  - Hobbyï¼š$5/æœˆï¼ˆ500å°æ—¶ï¼‰
  - Proï¼š$20/æœˆï¼ˆæ— é™ï¼‰

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: æ„å»ºå¤±è´¥
**æŸ¥çœ‹é”™è¯¯ï¼š**
- Railwayæ§åˆ¶å° â†’ Deployments â†’ ç‚¹å‡»å¤±è´¥çš„éƒ¨ç½² â†’ æŸ¥çœ‹æ—¥å¿—

**å¸¸è§åŸå› ï¼š**
- Nodeç‰ˆæœ¬ä¸åŒ¹é…ï¼ˆå·²åœ¨package.jsonä¸­æŒ‡å®š>=20.18.0ï¼‰
- ä¾èµ–å®‰è£…å¤±è´¥ï¼ˆå·²åœ¨Dockerfileä¸­é…ç½®å¼ºåˆ¶é‡è£…ï¼‰
- å†…å­˜ä¸è¶³ï¼ˆå·²é…ç½®4GBå†…å­˜é™åˆ¶ï¼‰

### Q2: æ•°æ®åº“é—®é¢˜
**Railwayè‡ªåŠ¨å¤„ç†ï¼š**
- SQLiteæ•°æ®åº“è‡ªåŠ¨åˆ›å»ºåœ¨ `/app/data/app.db`
- æ•°æ®ä¼šæŒä¹…åŒ–å­˜å‚¨
- é‡æ–°éƒ¨ç½²ä¸ä¼šä¸¢å¤±æ•°æ®

**å¤‡ä»½æ•°æ®åº“ï¼š**
```bash
# ä½¿ç”¨Railway CLIä¸‹è½½æ•°æ®åº“
railway run cat data/app.db > backup-$(date +%Y%m%d).db
```

### Q3: ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ
**è§£å†³æ–¹æ³•ï¼š**
1. ç¡®è®¤åœ¨Railwayçš„Variablesé¡µé¢å·²æ·»åŠ 
2. é‡æ–°éƒ¨ç½²ï¼šç‚¹å‡»æœ€æ–°éƒ¨ç½²å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹ â†’ Redeploy
3. æˆ–ä½¿ç”¨CLIï¼š`railway up --detach`

### Q4: åº”ç”¨æ— æ³•è®¿é—®
**æ£€æŸ¥é¡¹ï¼š**
1. éƒ¨ç½²çŠ¶æ€æ˜¯å¦ä¸º"Active"ï¼ˆç»¿è‰²ï¼‰
2. æ˜¯å¦å·²ç”ŸæˆåŸŸåï¼ˆSettings â†’ Domainsï¼‰
3. æŸ¥çœ‹æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

### Q5: APIè°ƒç”¨å¤±è´¥
**ç¡®è®¤ï¼š**
1. DEEPSEEK_API_KEYæ˜¯å¦æ­£ç¡®è®¾ç½®
2. åœ¨Railway Variablesä¸­æŸ¥çœ‹ï¼ˆä¼šæ˜¾ç¤ºä¸º sk-***...ï¼‰
3. æµ‹è¯•API Keyï¼šåœ¨ç®¡ç†åå°ç‚¹å‡»"æµ‹è¯•"æŒ‰é’®

---

## ğŸ” å®‰å…¨å»ºè®®

### 1. ç¯å¢ƒå˜é‡
âœ… **å·²é€šè¿‡Railway Variablesè®¾ç½®ï¼ˆå®‰å…¨ï¼‰**
âŒ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç 

### 2. æ•°æ®åº“å¤‡ä»½
```bash
# æ¯å‘¨å¤‡ä»½ä¸€æ¬¡
railway run cat data/app.db > weekly-backup.db

# å®šæœŸä¸‹è½½åˆ°æœ¬åœ°
```

### 3. æ›´æ–°ç®¡ç†å‘˜å¯†ç 
é¦–æ¬¡éƒ¨ç½²åï¼Œç«‹å³ä¿®æ”¹ï¼š
- å½“å‰é»˜è®¤ï¼šjerry / 123123
- å»ºè®®ä¿®æ”¹ä¸ºæ›´å®‰å…¨çš„å¯†ç 

---

## ğŸ¨ è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

### å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸå

1. åœ¨Railwayé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå
2. åœ¨ä½ çš„åŸŸåDNSè®¾ç½®ä¸­æ·»åŠ CNAMEè®°å½•ï¼š
   ```
   CNAME  your-subdomain  â†’  your-project.up.railway.app
   ```
3. ç­‰å¾…DNSç”Ÿæ•ˆï¼ˆé€šå¸¸å‡ åˆ†é’Ÿï¼‰

---

## ğŸ“± ç›‘æ§å’Œç»´æŠ¤

### å®æ—¶ç›‘æ§
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
railway logs -f

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
railway status

# æŸ¥çœ‹ä½¿ç”¨é‡
railway usage
```

### Railwayç½‘é¡µæ§åˆ¶å°
- **Metrics**ï¼šæŸ¥çœ‹CPUã€å†…å­˜ã€ç½‘ç»œä½¿ç”¨
- **Deployments**ï¼šæŸ¥çœ‹éƒ¨ç½²å†å²
- **Logs**ï¼šæŸ¥çœ‹åº”ç”¨æ—¥å¿—
- **Variables**ï¼šç®¡ç†ç¯å¢ƒå˜é‡

---

## ğŸš¨ ç´§æ€¥æƒ…å†µå¤„ç†

### åº”ç”¨å´©æºƒ
```bash
# å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
railway rollback

# æˆ–é‡æ–°éƒ¨ç½²
railway up --detach
```

### æ•°æ®åº“æŸå
```bash
# æ¢å¤å¤‡ä»½
railway run "cat > data/app.db" < backup.db
```

### Tokenè¶…é™
- åœ¨ç®¡ç†åå°å…³é—­è‡ªåŠ¨åŒ–åŠŸèƒ½
- è°ƒæ•´tokené™é¢
- ç­‰å¾…æ¯æ—¥é‡ç½®

---

## ğŸ“ è·å–å¸®åŠ©

### Railwayå®˜æ–¹èµ„æº
- æ–‡æ¡£ï¼šhttps://docs.railway.app
- Discordï¼šhttps://discord.gg/railway
- Twitterï¼š@Railway

### é¡¹ç›®ç›¸å…³
- æŸ¥çœ‹README.md
- æŸ¥çœ‹å„ä¸ªåŠŸèƒ½è¯´æ˜æ–‡æ¡£

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸå

æ­å–œï¼ä½ çš„AIèŠå¤©æ¨¡æ‹Ÿå™¨å·²ç»éƒ¨ç½²æˆåŠŸï¼

### æ¥ä¸‹æ¥å¯ä»¥ï¼š
1. âœ… è®¿é—®ç®¡ç†åå°é…ç½®è‡ªåŠ¨åŒ–
2. âœ… åˆ›å»ºæ›´å¤šé¢„è®¾æˆ¿é—´
3. âœ… é‚€è¯·ç”¨æˆ·æµ‹è¯•
4. âœ… ç›‘æ§Tokenä½¿ç”¨æƒ…å†µ
5. âœ… å®šæœŸå¤‡ä»½æ•°æ®åº“

**ç¥è¿è¥é¡ºåˆ©ï¼ğŸš€**

